/** DataUploader *	---------------------------------------------------------------------------- * *	Responsible for loading and facilitating standard data access methods. *	---------------------------------------------------------------------------- */ 	package com.avatarlabs.utils.data	{		import flash.events.*;		import flash.net.URLLoader;		import flash.net.URLRequest;		import flash.net.URLRequestMethod;		import flash.net.URLVariables;				import com.avatarlabs.utils.events.CustomEvent;		import com.avatarlabs.utils.console.ConsoleBroadcaster;				public class SimpleDataUploader extends EventDispatcher		{			private var urlRequest:URLRequest; 			private var urlLoader:URLLoader;						private var method:String;			private var data:URLVariables;					/**	SimpleDataUploader		  *	----------------------------------------------------- */			public function SimpleDataUploader():void			{				urlLoader = new URLLoader();			}					/**	sendData		  *	----------------------------------------------------- */			public function sendData( url:String, m:String, d:URLVariables ):void			{				ConsoleBroadcaster.broadcast( "SimpleDataUploader", "sendData(url "+url+" method "+m+" data "+d+");" );								method = m;				data = d;								urlRequest= new URLRequest( url );				urlRequest.method = method;				urlRequest.data = data;								urlLoader.addEventListener( Event.COMPLETE, handleSendComplete );				urlLoader.load( urlRequest );			}					/**	handleSendComplete		  *	----------------------------------------------------- */			private function handleSendComplete( evt:Event ):void			{				ConsoleBroadcaster.broadcast( "SimpleDataUploader", "handleSendComplete => evt.currentTarget.data: "+evt.currentTarget.data );								var resultVars:URLVariables = new URLVariables( evt.currentTarget.data );									//ConsoleBroadcaster.broadcast( "SimpleDataUploader", "resultVars.status: "+resultVars.status );				//ConsoleBroadcaster.broadcast( "SimpleDataUploader", "resultVars.result: "+resultVars.result );								dispatchEvent( new CustomEvent("onSendComplete", { result:resultVars } ) );							}		}			}