package com.avatarlabs.utils.parsers{	import flash.events.*;	import flash.net.*;	import flash.system.LoaderContext;	import flash.system.Security;		import com.avatarlabs.utils.console.*;		public class RSSParser extends EventDispatcher	{		private var xmlLoader:URLLoader;		private var feed:XML;		private var episodes:XMLList;		private var title:String;		private var description:String;				public function RSSParser()		{			xmlLoader = new URLLoader();		}				public function load(xmlReq:URLRequest):void		{			ConsoleBroadcaster.broadcast( "RSSParser","load(" + xmlReq + ")");						Security.allowDomain( xmlReq.url );						xmlLoader.addEventListener(Event.COMPLETE, rssLoaded);						//var loaderContext:LoaderContext = new LoaderContext( true, "http://blog.avatarlabs.com" );						try			{				xmlLoader.load(xmlReq);			}			catch( error:SecurityError )			{				throw new Error("need to allow domain");			}		}				private function rssLoaded(event:Event):void		{			ConsoleBroadcaster.broadcast( "RSSParser","rssLoaded()");						feed = new XML(xmlLoader.data);			feed.ignoreWhitespace = true;						//ConsoleBroadcaster.broadcast( "RSSParser","FEED:" + feed);			episodes = feed..item;						title = feed.channel.title;			description = feed.channel.description;						dispatchEvent(new Event("rssParseComplete"));		}				public function get feedTitle():String		{			return title;		}				public function get feedDescription():String		{			return description;		}				public function get episodesList():XMLList		{			return episodes;		}	}}