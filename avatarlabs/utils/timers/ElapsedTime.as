 		package com.avatarlabs.utils.timers	{		import flash.utils.Timer;		import flash.utils.getTimer;		import flash.events.EventDispatcher;				import com.avatarlabs.utils.console.ConsoleBroadcaster;				public class ElapsedTime extends EventDispatcher		{			protected var _startingTime:Number;			protected var _stoppingTime:Number;			protected var _pausingTime:Number;			protected var _elapsedPauseTime:Number;			protected var _elapsedPlayTime:Number;			protected var _elapsedTime:Number;			protected var _unpausingTime:Number;						/** Constructor			  *	---------------------------------------------------------------------------- */				public function ElapsedTime()				{															init();									}								public function init():void {					_startingTime = 0;					_stoppingTime = 0;					_pausingTime = 0;					_elapsedPauseTime = 0;					_elapsedPlayTime = 0;					_elapsedTime = 0;					_unpausingTime = 0;				}								public function get elapsedTime():Number				{					if (_stoppingTime > 0) {						_elapsedTime = (_stoppingTime-_startingTime) - _elapsedPauseTime;						//ConsoleBroadcaster.broadcast("ElapsedTime",_elapsedTime + "  =  ("  + _stoppingTime + " -  " + _startingTime + ")- " + _elapsedPauseTime );						return Math.round(_elapsedTime/1000);					}					else {												_elapsedTime = _elapsedPauseTime;						return Math.round(_elapsedTime/1000);					}				}							//start				public function startIt():void {										_startingTime = getTimer(); 					//ConsoleBroadcaster.broadcast("ElapsedTime","start at " + _startingTime);				}							//stop				public function stopIt():void				{					_stoppingTime = getTimer();					//ConsoleBroadcaster.broadcast("ElapsedTime","hit stop at " + _stoppingTime);					//_elapsedTime = (_stoppingTime-_startingTime)-(_elapsedPlayTime - _elapsedPauseTime);				}							//pause				public function pause():void				{					_pausingTime = getTimer();					//ConsoleBroadcaster.broadcast("ElapsedTime","hit pause at " + _pausingTime);					//pause has been hit before					if(_elapsedPlayTime > 0) {												_elapsedPlayTime = (_pausingTime-_unpausingTime) + _elapsedPlayTime;					}					//first time pause was hit					else {																		_elapsedPlayTime = _pausingTime-_startingTime;					}															/*ConsoleBroadcaster.broadcast("ElapsedTime","_pausing timer = " + _pausingTime);					if(_elapsedPauseTime > 0) {						_elapsedPauseTime = _elapsedPauseTime + (_pausingTime-_startingTime);					}					else {						_elapsedPauseTime = (_pausingTime-_startingTime);					}										ConsoleBroadcaster.broadcast("ElapsedTime","elapsedPauseTimer is " + _elapsedPauseTime);*/				}							//unpause			public function unpause():void				{										_unpausingTime = getTimer();									//ConsoleBroadcaster.broadcast("ElapsedTime","hit unpause at " + _unpausingTime);										if(_elapsedPauseTime>0) {						_elapsedPauseTime = (_unpausingTime-_pausingTime)+_elapsedPauseTime;					}					else {						_elapsedPauseTime = _unpausingTime-_pausingTime;					}				}		}			}