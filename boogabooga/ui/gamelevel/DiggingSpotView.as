/** DiggingSpotView  *	---------------------------------------------------------------------------- */ 	package com.boogabooga.ui.gamelevel	{		import flash.display.MovieClip;		import flash.display.Sprite;		import flash.events.Event;		import flash.events.EventDispatcher;		import flash.events.IOErrorEvent;		import flash.events.MouseEvent;		import flash.events.ProgressEvent;		import flash.events.TimerEvent;				import com.avatarlabs.utils.console.ConsoleBroadcaster;				import com.boogabooga.ui.gamelevel.DiggingTile;		import com.boogabooga.data.gamelevel.DiggingMap;				public class DiggingSpotView extends EventDispatcher		{			protected var _contentClip:MovieClip;						protected var _diggingTile:DiggingTile;						/**	Stage Instances **/			public var rope_mc:MovieClip;			public var flag1_mc:MovieClip;			public var flag2_mc:MovieClip;			public var flag3_mc:MovieClip;			public var flag4_mc:MovieClip;			public var wood_mc:MovieClip;			public var ground_mc:MovieClip;			public var ground2_mc:MovieClip;			/**	End of Stage Instances **/						/** Constructor			  *	---------------------------------------------------------------------------- */				public function DiggingSpotView()				{									}								public function set contentClip( m:MovieClip ):void				{					_contentClip = m;					//_contentClip.mouseChildren = false;					//_contentClip.mouseEnabled = false;										rope_mc = _contentClip.rope_mc;					rope_mc.cacheAsBitmap = true;					flag1_mc = _contentClip.flag1_mc;					flag2_mc = _contentClip.flag2_mc;					flag3_mc = _contentClip.flag3_mc;					flag4_mc = _contentClip.flag4_mc;					wood_mc = _contentClip.wood_mc;					wood_mc.cacheAsBitmap = true;					ground_mc = _contentClip.ground_mc;					ground_mc.cacheAsBitmap = true;					ground2_mc = _contentClip.ground2_mc;					ground2_mc.cacheAsBitmap = true;										flag1_mc.stop();					flag2_mc.stop();					flag3_mc.stop();					flag4_mc.stop();				}				public function get contentClip():MovieClip { return _contentClip; }								public function set diggingTile( d:DiggingTile ):void { _diggingTile = d; }				public function get diggingTile():DiggingTile { return _diggingTile; }							/** init			  *	---------------------------------------------------------------------------- */				public function init():void				{									}							/** showDigView			  *	---------------------------------------------------------------------------- */				public function showDigView():void				{					ConsoleBroadcaster.broadcast( "DiggingSpotView", "showDigView();" );										flag1_mc.visible = true;					//flag1_mc.play();					flag2_mc.visible = true;					//flag2_mc.play();					flag3_mc.visible = true;					//flag3_mc.play();					flag4_mc.visible = true;					//flag4_mc.play();										ground_mc.visible = true;					ground2_mc.visible = false;										_contentClip.buttonMode = true;					_contentClip.addEventListener( MouseEvent.ROLL_OVER, handleRolledOver, false, 0, true );					_contentClip.addEventListener( MouseEvent.ROLL_OUT, handleRolledOut, false, 0, true );					_contentClip.addEventListener( MouseEvent.CLICK, handleClicked, false, 0, true );				}							/** showDugView			  *	---------------------------------------------------------------------------- */				public function showDugView():void				{					ConsoleBroadcaster.broadcast( "DiggingSpotView", "showDugView();" );										flag1_mc.visible = false;					flag1_mc.stop();					flag2_mc.visible = false;					flag2_mc.stop();					flag3_mc.visible = false;					flag3_mc.stop();					flag4_mc.visible = false;					flag4_mc.stop();										ground_mc.visible = false;					ground2_mc.visible = true;										_contentClip.buttonMode = false;					_contentClip.removeEventListener( MouseEvent.ROLL_OVER, handleRolledOver );					_contentClip.removeEventListener( MouseEvent.ROLL_OUT, handleRolledOut );					_contentClip.removeEventListener( MouseEvent.CLICK, handleClicked );				}							/** show			  *	---------------------------------------------------------------------------- */				public function show():void				{					_contentClip.visible = true;				}							/** hide			  *	---------------------------------------------------------------------------- */				public function hide():void				{					_contentClip.visible = false;				}							/** playAnimation			  *	---------------------------------------------------------------------------- */				public function playAnimation():void				{					flag1_mc.play();					flag2_mc.play();					flag3_mc.play();					flag4_mc.play();				}							/** stopAnimation			  *	---------------------------------------------------------------------------- */				public function stopAnimation():void				{					flag1_mc.stop();					flag2_mc.stop();					flag3_mc.stop();					flag4_mc.stop();				}								protected function handleClicked( event:MouseEvent ):void				{					//trace( "handleClicked();" );										dispatchEvent( new Event(MouseEvent.CLICK) );				}								protected function handleRolledOver( event:MouseEvent ):void				{					//trace( "handleRolledOver();" );										playAnimation();				}								protected function handleRolledOut( event:MouseEvent ):void				{					//trace( "handleRolledOut();" );										stopAnimation();				}		}			}