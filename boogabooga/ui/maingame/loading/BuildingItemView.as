/** BuildingItemView  *	---------------------------------------------------------------------------- *  *	@desc:  *		A list for the paths  *	@author:  *		Christian Widodo [christian@avatarlabs.com]  *	---------------------------------------------------------------------------- */ 	package com.boogabooga.ui.maingame.loading	{		import flash.display.Bitmap;		import flash.display.MovieClip;		import flash.display.StageDisplayState;		import flash.events.Event;		import flash.events.EventDispatcher;		import flash.events.MouseEvent;		import flash.text.TextField;		import flash.text.TextFieldAutoSize;		import flash.utils.getDefinitionByName;		import flash.utils.getQualifiedClassName;				import com.greensock.TweenLite;		import com.avatarlabs.utils.console.ConsoleBroadcaster;		import com.avatarlabs.utils.events.AssetLoaderEvent;		import com.avatarlabs.utils.events.CustomEvent;		import com.avatarlabs.utils.events.EventNotificationCenter;		import com.avatarlabs.utils.forms.InputText;		import com.avatarlabs.utils.sound.SoundEffectPlayer;		import com.avatarlabs.utils.text.TextFormatting;				import com.boogabooga.controller.maingame.MainGameController;		import com.boogabooga.controller.AssetLoaderController;		import com.boogabooga.data.StringsIndex;		import com.boogabooga.events.BoogaEvent;				public class BuildingItemView extends EventDispatcher		{			protected var _contentClip:MovieClip;						/**	Stage Instances **/			public var header_txt:TextField;			public var background_mc:MovieClip;			public var loadingBar_mc:MovieClip;			public var greenload1_mc:MovieClip;			public var greenload2_mc:MovieClip;			public var greenload3_mc:MovieClip;			public var greenload4_mc:MovieClip;			public var greenload5_mc:MovieClip;			public var greenload6_mc:MovieClip;			public var mask_mc:MovieClip;			public var bar_mc:MovieClip;			/**	End of Stage Instances **/						/** Constructor			  *	---------------------------------------------------------------------------- */				public function BuildingItemView()				{					//init();				}								public function set contentClip( m:MovieClip ):void				{					_contentClip = m;										header_txt = _contentClip.header_txt;					background_mc = _contentClip.background_mc;					background_mc.cacheAsBitmap = true;					loadingBar_mc = _contentClip.loadingBar_mc;					greenload1_mc = _contentClip.greenload1_mc;					greenload2_mc = _contentClip.greenload2_mc;					greenload3_mc = _contentClip.greenload3_mc;					greenload4_mc = _contentClip.greenload4_mc;					greenload5_mc = _contentClip.greenload5_mc;					greenload6_mc = _contentClip.greenload6_mc;					mask_mc = _contentClip.mask_mc;					bar_mc = _contentClip.bar_mc;				}				public function get contentClip():MovieClip { return _contentClip; }							/** init			  *	---------------------------------------------------------------------------- */				public function init():void				{					bar_mc = loadingBar_mc.bar_mc;					mask_mc = loadingBar_mc.mask_mc;					//greenload1_mc = loadingBar_mc.greenload1_mc;					//greenload2_mc = loadingBar_mc.greenload2_mc;					//greenload3_mc = loadingBar_mc.greenload3_mc;					//greenload4_mc = loadingBar_mc.greenload4_mc;					//greenload5_mc = loadingBar_mc.greenload5_mc;					//greenload6_mc = loadingBar_mc.greenload6_mc;					//greenload1_mc.stop();					//greenload2_mc.stop();					//greenload3_mc.stop();					//greenload4_mc.stop();					//greenload5_mc.stop();					//greenload6_mc.stop();										//TextFormatting.formatTextWithFontName( header_txt, "Building Items", "SF Fedora", false, TextFieldAutoSize.CENTER );					TextFormatting.formatTextWithFontName( header_txt, StringsIndex.getInstance().getStringByName("LOADING_BUILDING_ITEMS"), "Lithos Pro Black", false, TextFieldAutoSize.CENTER );										header_txt.y = 13 + int((80 - header_txt.height)/2);										EventNotificationCenter.getInstance().addSignalListener( BoogaEvent.ON_LANGUAGE_CHANGED, handleLanguageChanged, this );				}								public function show():void				{					_contentClip.visible = true;				}								public function hide():void				{					_contentClip.visible = false;				}							/** showLoadingPercentage			  *	---------------------------------------------------------------------------- *			  *	Shows the loading percentage.			  *	---------------------------------------------------------------------------- */				public function showLoadingPercentage( per:Number ):void				{					//trace( "showLoadingPercentage("+per+");" );					mask_mc.scaleX = per;				}							/** handleLanguageChanged			  *	---------------------------------------------------------------------------- *			  *	Updates the texts when the language is changed.			  *	---------------------------------------------------------------------------- */				protected function handleLanguageChanged( customParameters:Object ):void				{					TextFormatting.formatTextWithFontName( header_txt, StringsIndex.getInstance().getStringByName("LOADING_BUILDING_ITEMS"), "Lithos Pro Black", false, TextFieldAutoSize.CENTER );					header_txt.y = 13 + int((80 - header_txt.height)/2);				}						}	}