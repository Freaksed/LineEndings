/** IslandSelectionIcon  *	---------------------------------------------------------------------------- *  *	@author:  *		Christian Widodo [christian@avatarlabs.com]  *	---------------------------------------------------------------------------- */ 	package com.boogabooga.ui.maingame.islandselection	{		import flash.display.MovieClip;		import flash.events.Event;		import flash.events.EventDispatcher;		import flash.events.MouseEvent;		import flash.geom.ColorTransform;		import flash.text.TextField;				import com.avatarlabs.utils.events.CustomEvent;		import com.avatarlabs.utils.userinterface.DynamicUIButton;				import com.boogabooga.data.maingame.Village;		import com.boogabooga.events.BoogaEvent;				public class IslandSelectionIcon extends DynamicUIButton		{			//protected var _contentClip:MovieClip;			protected var _type:int;			protected var _village:Village;			protected var _rolledOverColorTransform:ColorTransform;			protected var _defaultColorTransform:ColorTransform;						public static const ICON_TYPE_LOCK:int = 0;			public static const ICON_TYPE_ACTION:int = 1;			public static const ICON_TYPE_COMPLETE:int = 2;			public static const ICON_TYPE_AVAILABLE:int = 3;			public static const ICON_TYPE_VILLAGE:int = 4;			public static const ICON_TYPE_SHOVEL:int = 5;						/**	Stage Instances **/			public var lock_mc:MovieClip;			public var checkMark_mc:MovieClip;			public var exclamationMark_mc:MovieClip;			/**	End of Stage Instances **/						/** Constructor			  *	---------------------------------------------------------------------------- */				public function IslandSelectionIcon()				{					//init();				}				/*				public function set contentClip( m:MovieClip ):void				{					_contentClip = m;					_contentClip.addEventListener( "onClick", handleClicked, false, 0, true );					_contentClip.addEventListener( "onSetFocus", handleRolledOver, false, 0, true );					_contentClip.addEventListener( "onKillFocus", handleRolledOut, false, 0, true );					//_contentClip.mouseChildren = false;										lock_mc = _contentClip.dynamicClip.lock_mc;					checkMark_mc = _contentClip.dynamicClip.checkMark_mc;					exclamationMark_mc = _contentClip.dynamicClip.exclamationMark_mc;				}				public function get contentClip():MovieClip { return _contentClip; }				*/								override public function set dynamicClip( m:MovieClip ):void				{					super.dynamicClip = m;										lock_mc = _dynamicClip.lock_mc;					checkMark_mc = _dynamicClip.checkMark_mc;					exclamationMark_mc = _dynamicClip.exclamationMark_mc;					exclamationMark_mc.stop();										this.addEventListener( "onClick", handleClicked, false, 0, true );					this.addEventListener( "onSetFocus", handleRolledOver, false, 0, true );					this.addEventListener( "onKillFocus", handleRolledOut, false, 0, true );				}								public function set type( i:int ):void				{					_type = i;										lock_mc.visible = false;					checkMark_mc.visible = false;					exclamationMark_mc.visible = false;					exclamationMark_mc.stop();										if( _type == ICON_TYPE_LOCK )					{						lock_mc.visible = true;						setDeactive( false );					}					else if( _type == ICON_TYPE_ACTION )					{						exclamationMark_mc.visible = true;						exclamationMark_mc.play();						setActive( true );					}					else if( _type == ICON_TYPE_COMPLETE )					{						checkMark_mc.visible = true;						setActive( false );					}					else if( _type == ICON_TYPE_VILLAGE )					{						setDeactive( false );					}				}				public function get type():int { return _type; }								public function set village( v:Village ):void { _village = v; }				public function get village():Village { return _village; }							/** init			  *	---------------------------------------------------------------------------- */				override public function dynamicInit():void				{					super.dynamicInit();										_rolledOverColorTransform = new ColorTransform( 0.6, 0.6, 0.6, 1, 102, 102, 102 );					_defaultColorTransform = new ColorTransform();				}							/** show			  *	---------------------------------------------------------------------------- */				public function show():void				{					_dynamicClip.visible = true;				}							/** hide			  *	---------------------------------------------------------------------------- */				public function hide():void				{					_dynamicClip.visible = false;					exclamationMark_mc.stop();				}							/** kill			  *	---------------------------------------------------------------------------- */				public function kill():void				{					this.removeEventListener( "onClick", handleClicked );				}							/** handleClicked			  *	---------------------------------------------------------------------------- */				protected function handleClicked( event:Event ):void				{					if( _type != ICON_TYPE_LOCK )						dispatchEvent( new BoogaEvent(BoogaEvent.ISLAND_SELECTION_ICON_CLICK, {village:_village}) );				}							/** handleRolledOver			  *	---------------------------------------------------------------------------- */				protected function handleRolledOver( event:Event ):void				{					if( _type != ICON_TYPE_LOCK )						_dynamicClip.transform.colorTransform = _rolledOverColorTransform;					//if( _type != ICON_TYPE_LOCK )						//dispatchEvent( new BoogaEvent(BoogaEvent.ISLAND_SELECTION_ICON_ROLLED_OVER, {village:_village}) );				}							/** handleRolledOut			  *	---------------------------------------------------------------------------- */				protected function handleRolledOut( event:Event ):void				{					if( _type != ICON_TYPE_LOCK )						_dynamicClip.transform.colorTransform = _defaultColorTransform;				}						}	}